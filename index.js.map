{"version":3,"file":"index.js","sources":["../src/main.js"],"sourcesContent":["// 1. Инициализация Smooth Scroll (Lenis)\nconst lenis = new Lenis({\n  duration: 1.2,\n  easing: (t) => Math.min(1, 1.001 - Math.pow(2, -10 * t)),\n  smooth: true,\n});\n\nfunction raf(time) {\n  lenis.raf(time);\n  requestAnimationFrame(raf);\n}\nrequestAnimationFrame(raf);\n\n// 2. Мобильное меню\ndocument.addEventListener('DOMContentLoaded', () => {\n  const burger = document.querySelector('.header__burger');\n  const nav = document.querySelector('.header__nav');\n  const body = document.body;\n  const links = document.querySelectorAll('.header__link');\n\n  burger.addEventListener('click', () => {\n      burger.classList.toggle('active');\n      nav.classList.toggle('active');\n      if (nav.classList.contains('active')) {\n          lenis.stop();\n          body.style.overflow = 'hidden';\n      } else {\n          lenis.start();\n          body.style.overflow = '';\n      }\n  });\n\n  links.forEach(link => {\n      link.addEventListener('click', () => {\n          if (window.innerWidth < 992) {\n              burger.classList.remove('active');\n              nav.classList.remove('active');\n              lenis.start();\n              body.style.overflow = '';\n          }\n      });\n  });\n\n  // 3. Three.js Фон (Частицы / Нейросеть)\n  const canvas = document.getElementById('hero-canvas');\n  if (canvas) {\n      const scene = new THREE.Scene();\n      const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);\n      const renderer = new THREE.WebGLRenderer({ canvas: canvas, alpha: true });\n\n      renderer.setSize(window.innerWidth, window.innerHeight);\n      renderer.setPixelRatio(window.devicePixelRatio);\n\n      // Создаем частицы\n      const particlesGeometry = new THREE.BufferGeometry();\n      const particlesCount = 700;\n      const posArray = new Float32Array(particlesCount * 3);\n\n      for(let i = 0; i < particlesCount * 3; i++) {\n          posArray[i] = (Math.random() - 0.5) * 15; // Разброс\n      }\n\n      particlesGeometry.setAttribute('position', new THREE.BufferAttribute(posArray, 3));\n\n      const material = new THREE.PointsMaterial({\n          size: 0.02,\n          color: 0x6366f1, // Indigo color\n          transparent: true,\n          opacity: 0.8,\n      });\n\n      const particlesMesh = new THREE.Points(particlesGeometry, material);\n      scene.add(particlesMesh);\n\n      camera.position.z = 3;\n\n      // Анимация частиц\n      const animateThree = () => {\n          requestAnimationFrame(animateThree);\n          particlesMesh.rotation.y += 0.001;\n          particlesMesh.rotation.x += 0.0005;\n          renderer.render(scene, camera);\n      };\n      animateThree();\n\n      // Ресайз\n      window.addEventListener('resize', () => {\n          camera.aspect = window.innerWidth / window.innerHeight;\n          camera.updateProjectionMatrix();\n          renderer.setSize(window.innerWidth, window.innerHeight);\n      });\n  }\n\n  // 4. Анимации GSAP\n  gsap.registerPlugin(ScrollTrigger);\n\n  // Hero Text Reveal\n  gsap.from('.hero__title', {\n      duration: 1.2,\n      y: 100,\n      opacity: 0,\n      ease: 'power4.out',\n      delay: 0.2\n  });\n\n  gsap.from('.hero__subtitle', {\n      duration: 1.2,\n      y: 50,\n      opacity: 0,\n      ease: 'power4.out',\n      delay: 0.4\n  });\n\n  // Fade In секций при скролле\n  gsap.utils.toArray('.section').forEach(section => {\n      gsap.from(section, {\n          scrollTrigger: {\n              trigger: section,\n              start: 'top 85%',\n              toggleActions: 'play none none reverse'\n          },\n          y: 50,\n          opacity: 0,\n          duration: 1,\n          ease: 'power3.out'\n      });\n  });\n\n  // 5. Логика Формы\n  const form = document.getElementById('leadForm');\n  const phoneInput = document.getElementById('phone');\n  const phoneError = document.getElementById('phoneError');\n  const captchaLabel = document.getElementById('captchaLabel');\n  const captchaInput = document.getElementById('captchaInput');\n  const successMsg = document.getElementById('formSuccess');\n  const submitBtn = document.querySelector('.form-btn');\n\n  // Валидация телефона (только цифры)\n  phoneInput.addEventListener('input', (e) => {\n      const val = e.target.value;\n      if (/[^0-9+]/.test(val)) {\n          phoneError.style.display = 'block';\n          e.target.value = val.replace(/[^0-9+]/g, '');\n      } else {\n          phoneError.style.display = 'none';\n      }\n  });\n\n  // Math Captcha\n  const num1 = Math.floor(Math.random() * 10);\n  const num2 = Math.floor(Math.random() * 10);\n  const sum = num1 + num2;\n  captchaLabel.textContent = `Сколько будет ${num1} + ${num2}?`;\n\n  form.addEventListener('submit', (e) => {\n      e.preventDefault();\n\n      // Проверка капчи\n      if (parseInt(captchaInput.value) !== sum) {\n          alert('Неверный ответ на пример!');\n          return;\n      }\n\n      // Имитация отправки (AJAX)\n      const originalBtnText = submitBtn.innerHTML;\n      submitBtn.innerHTML = '<span>Отправка...</span>';\n      submitBtn.style.opacity = '0.7';\n\n      setTimeout(() => {\n          form.style.display = 'none';\n          successMsg.style.display = 'block';\n          submitBtn.innerHTML = originalBtnText;\n          submitBtn.style.opacity = '1';\n\n          // Здесь можно добавить реальный fetch запрос\n          console.log('Form submitted:', {\n              name: form.name.value,\n              email: form.email.value,\n              phone: form.phone.value\n          });\n      }, 1500);\n  });\n\n  // 6. Cookie Popup\n  const cookiePopup = document.getElementById('cookiePopup');\n  const acceptCookies = document.getElementById('acceptCookies');\n\n  if (!localStorage.getItem('cookiesAccepted')) {\n      setTimeout(() => {\n          cookiePopup.style.display = 'flex';\n          gsap.fromTo(cookiePopup, { y: 100, opacity: 0 }, { y: 0, opacity: 1, duration: 0.5 });\n      }, 2000);\n  }\n\n  acceptCookies.addEventListener('click', () => {\n      localStorage.setItem('cookiesAccepted', 'true');\n      gsap.to(cookiePopup, { y: 50, opacity: 0, duration: 0.5, onComplete: () => {\n          cookiePopup.style.display = 'none';\n      }});\n  });\n});"],"names":["lenis","t","raf","time","burger","nav","body","links","link","canvas","scene","camera","renderer","particlesGeometry","particlesCount","posArray","i","material","particlesMesh","animateThree","section","form","phoneInput","phoneError","captchaLabel","captchaInput","successMsg","submitBtn","e","val","num1","num2","sum","originalBtnText","cookiePopup","acceptCookies"],"mappings":"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"}